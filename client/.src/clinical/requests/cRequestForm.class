' Gambas class file
' Copyright (C) 2008,2009 Dr. Richard Terry

' This program is free software: you can redistribute it and/or modify
' it under the terms of the GNU General Public License as published by
' the Free Software Foundation, either version 3 of the License, or
' (at your option) any later version.

' This program is distributed in the hope that it will be useful,
' but WITHOUT ANY WARRANTY; without even the implied warranty of
' MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
' GNU General Public License for more details.

' You should have received a copy of the GNU General Public License
' along with this program.  If not, see <http://www.gnu.org/licenses/>.
'-----------------------------------------------------------------------------
'A request form is a request to an organisation from the requesting clinician
'to provide a service eg, do a blood test or xray
'It contains:
'  the address details of the organisation
'  one or moree request eg fbc;uec;lfts;
'  none or some notes eg tiredness;weightloss etc
'  none or some medication eg lipex;betaloc
'  none or some persons to send a copy of the results to
'--------------------------------------------------------------------------------

Public pk_form As Integer            ' key to clin_requests.data_forms table
Public fk_consult As Integer         ' key to clin_consult.consult table
Public consult_date As Date          ' date form actually written
Public date As Date                  ' the date of request (may be forward/back dated)
Public Requests As collection        ' any number of requests on a form a collection of cRequest class
Public branches As Collection        ' one or more branches for this organisation
Public fk_defaultbranch As Integer   ' details of the preferred branch. ?need
'before you remove this, fix the mis-use of this in Inbox.RequestList_Fill
'Public organisation As cOrganisation ' the main branch of head office
   'was fk_type till 09March09 when I deleted clin_requests.lu_type and used common.lu_categories instead
   'to allow user to add their own providers/fequests
Public fk_Category As Integer            ' type of request provider eg. gvar.radiology, gvar.pathology etc
Public type As String                ' e.g " pathology"
Public fk_notes As Integer           ' key to lu_notes table - many notes are duplicated, so pop them up
Public notes As Collection           ' all the notes for this request form
Public notes_summary As String
Public copyto As Collection          ' collection of persons/organisations to receive copy of the results
Public requests_summary As String    ' concatenated line of requests eg fbc;uec;lfts;msu;psa;
Public medications As collection         'medications patient may be on semicolon delimited
Public medications_summary As String
Public fk_image As Integer         'if not null, the pk of any associated image in consult.images 1  per form
Public deleted As Boolean            'if true the request form is deleted.
Public data_changed As Boolean       'if true there is changed data on the requests form
Public form_html As String           'the request form in html of the request form
Public results_html As String        'the results in html for all tests on this form
Public copyto_patient As Boolean
Public urgent As Boolean
Public bulk_bill As Boolean
Public fasting As Boolean
Public fax As Boolean
Public phone As Boolean
Public pictures As collection        'a collection of pictures as diagrams/photo's 
Public include_medications As Boolean
Public Forms_Results As collection  




