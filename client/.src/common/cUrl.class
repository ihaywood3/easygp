' Gambas class file

' Copyright (C) 2008-2016 Dr. Richard Terry  rterry@internode.on.net Dr. Ian Haywood

' This program is free software: you can redistribute it and/or modify
' it under the terms of the GNU General Public License as published by
' the Free Software Foundation, either version 3 of the License, or
' (at your option) any later version.

' This program is distributed in the hope that it will be useful,
' but WITHOUT ANY WARRANTY; without even the implied warranty of
' MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
' GNU General Public License for more details.

' You should have received a copy of the GNU General Public License
' along with this program.  If not, see <http://www.gnu.org/licenses/>.
' 
Static Private conns As Collection
Private bSftp As Boolean
Event Uploaded(fname As String)
Event Downloaded(fname As String)
Event FileList(list As String[])

Static Public Sub Create(url As String) As Curl
   Dim s2 As String[]
   
   If Left$(url, 1) = "/" Then
      Return New CFileUrl(url)
   Endif
   s2 = Split(url, ":")
   If s2[0] = System.Host Or s2[1] = "127.0.0.1" Or s2[0] = "localhost" Then
     Return New CFileUrl(s2[1])
   Endif
   If IsNull(conns) Then conns = New Collection
   If Not conns.Exist(s2[0]) Then
     conns[s2[0]] = New CSftpHost(s2[0])
   Endif
   Return New CSftpUrl(conns[s2[0]], s2[1])
End

' move a local file to the server
Public Sub PutFile(local As String, fname As String)
   
  Error.Raise("abstract virtual function cUrl.PutFile") 
   
End

' move a file to another url
Public Sub MoveFile(fname As String, remote As CUrl, Optional remote_fname As String)
   
  Error.Raise("abstract virtual function curl.MoveFile") 
   
End

' get hostname
Public Sub GetHost() As String
   
  Return Null 
   
End

' get path
Public Sub GetPath() As String
   
  Return Null 
   
End


Public Sub GetFile(fname As String)
   
   Error.Raise("abstract virtual function cUrl.GetFile") 
   
End

Public Sub DeleteFile(fname As String)
   
  Error.Raise("abstract virtual function cUrl.DeleteFile") 
   
End

Public Sub List()
   
  Error.Raise("abstract virtual function cUrl.List()") 
   
End

 
