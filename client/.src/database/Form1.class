' Gambas class file

Private patient As Collection
Private json_string As String


Public Sub Button1_Click()
   Dim sOneLine As String 
   Dim hFile As File
   Dim apatient As Collection
   Dim patients As New Collection
   
   Dim x As Integer
   hFile = Open "/home/richard/expoted_contacts_json.txt" For Read
   While Not Eof(hFile)
      Line Input #hFile, sOneLine
      Print sOneLine
      patients.Add(JSON.decode(sOneLIne), patients.count)
   Wend
   Close #hFile

  Print patients
 

End
Public Sub Button2_Click()
 
   Dim sFile As String
   Dim pdfs_matched As Collection
   Dim sRootDir As String = "/home/richard/ubuntu-server-product-information"
   Dim x As Integer
   
   
   pdfs_matched = modDBConnect.exec_query_collection("Select distinct product_information_filename as pk_view from drugs.brand where product_information_filename is not null")
   Print pdfs_matched.Count
    
    For Each sFile In Dir(sRootDir, "*.*")
              If Not pdfs_matched.Exist(sfile) Then
                  Print sFile
                Try Copy sRootDir &/ sfile To sRootDir &/ "not_matched" &/ sFile
               Inc x 
              Endif
            '  If x = 10 Then Break
    Next     
 
  Message.info("finished copying " & Str(x))

End
